#N canvas 222 63 1156 398 12;
#X floatatom 289 244 3 0 0 2 Slcs \$0-slicesinit \$0-slices 10;
#X obj 209 313 expr pow (2 \, $f1);
#X obj 209 205 bng 15 250 50 0 \$0-loadfile empty File 17 7 0 10 #00ff04 #000000 #000000;
#N canvas 830 139 450 278 (subpatch) 0;
#X array \$0-waver 121655 float 2;
#X coords 0 1 121655 -1 135 80 2 0 0;
#X restore 209 120 graph;
#X obj 347 122 vsl 15 75 0 1 0 0 \$0-ampl \$0-amplinit Vol. 0 -9 0 10 #feffc6 #000000 #000000 0 1;
#X obj 353 244 tgl 15 0 \$0-patmode \$0-patmodeinit PatM 0 -7 0 10 #9c00ff #ffffff #000000 0 1;
#X obj 349 336 metro;
#X floatatom 367 142 4 0 0 1 Orig\ BPM \$0-orgbpminit \$0-orgbpm 10;
#X obj 367 120 hradio 15 1 0 3 \$0-bars \$0-barsinit Bars 48 7 0 10 #fcfcfc #000000 #000000 0;
#X obj 209 244 hradio 15 1 0 5 \$0-split \$0-splitinit Splits 0 -7 0 10 #fcfcfc #000000 #000000 0;
#X obj 440 100 tgl 15 0 \$0-glotriggerout \$0-glotrigger empty 17 7 0 10 #00ff04 #000000 #000000 0 1;
#X obj 381 313 r \$0-sldur;
#X text 394 335 Master metro;
#X obj 345 20 inlet;
#X obj 128 20 inlet;
#X symbolatom 254 205 31 0 0 0 - \$0-filename - 10;
#X floatatom 367 163 4 0 0 1 Adj\ BPM \$0-adjbpminit \$0-adjbpm 10;
#X obj 498 20 inlet;
#X obj 316 244 hradio 15 1 0 2 \$0-sgldbl \$0-sgldblinit S/D 0 -7 0 10 #fcfcfc #000000 #000000 0;
#X obj 238 20 inlet;
#N canvas 333 265 546 203 calcoriginbpm 0;
#X obj 105 22 r \$0-slength;
#X obj 165 46 /;
#X obj 35 46 + 1;
#X text 284 19 Calculate loop origin BPM (only works with tightly edited drum loops in 4/4 scheme). Uses total loop length \, no. of bars (1 or 2) as input., f 32;
#X obj 196 22 r \$0-srate;
#X obj 35 70 expr (60*$f1*4)/$f2;
#X obj 35 22 r \$0-bars;
#X obj 35 94 s \$0-orgbpminit;
#X obj 35 123 r \$0-orgbpm;
#X obj 35 169 s \$0-adjbpminit;
#X obj 35 146 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X connect 0 0 1 0;
#X connect 1 0 5 1;
#X connect 2 0 5 0;
#X connect 4 0 1 1;
#X connect 5 0 7 0;
#X connect 6 0 2 0;
#X connect 8 0 10 0;
#X connect 10 0 9 0;
#X restore 472 163 pd calcoriginbpm;
#X obj 26 78 r \$0-loadfile;
#X obj 26 218 f \$0;
#X obj 26 195 loadbang;
#X text 91 194 Local preset, f 6;
#X obj 345 43 s \$0-glotrigger;
#X text 387 19 Global trigger;
#X obj 498 43 s \$0-adjbpminit;
#X obj 209 336 s \$0-slicesinit;
#X obj 209 290 r \$0-split;
#X obj 27 20 inlet;
#X obj 26 156 outlet~;
#X obj 27 44 s \$0-petrest;
#N canvas 264 271 337 377 sampleloader 0;
#X obj 18 39 openpanel;
#X obj 18 221 soundfiler;
#X floatatom 18 246 8 0 0 0 - - - 0;
#X listbox 216 240 15 0 0 0 - - - 0;
#X obj 216 263 unpack f;
#X obj 18 115 pack s f, f 11;
#X msg 18 196 read -resize \$1 \$2-waver;
#X obj 18 340 s \$0-slength;
#X obj 92 66 loadbang;
#X obj 92 90 f \$0;
#X obj 185 14 inlet;
#X obj 33 140 unpack s;
#X obj 216 340 s \$0-srate;
#X obj 18 14 inlet;
#X text 60 13 Open file panel;
#X obj 33 164 s \$0-filename;
#X obj 58 269 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X msg 87 269 1, f 1;
#X obj 87 291 s \$0-adjbpminit;
#X obj 105 269 s \$0-barsinit;
#X text 226 13 Ext. filepath;
#X obj 87 313 s \$0-samplebang;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 7 0;
#X connect 2 0 16 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 10 0 5 0;
#X connect 11 0 15 0;
#X connect 13 0 0 0;
#X connect 16 0 17 0;
#X connect 16 0 18 0;
#X connect 16 0 21 0;
#X connect 17 0 19 0;
#X restore 26 102 pd sampleloader;
#N canvas 0 25 886 595 sampleplayer 0;
#X obj 332 459 vline~;
#X msg 332 435 \$1 \, \$2 \$3;
#X obj 332 411 pack f f f;
#X floatatom 522 166 10 0 0 1 slice\ duration\ (samples) - - 0;
#X obj 332 330 t f f;
#X obj 585 68 t b f;
#X obj 522 142 expr $f2 / $f1;
#X obj 332 388 *;
#X obj 365 388 *;
#X obj 365 355 + 1;
#X floatatom 522 393 10 0 0 1 slice\ duration\ in\ ms - - 0;
#X obj 332 558 outlet~;
#X obj 14 212 i;
#X obj 14 236 + 1;
#X floatatom 332 302 5 0 0 0 - - - 0;
#X obj 332 483 tabread4~ \$0-waver;
#X obj 585 42 r \$0-slength;
#X obj 522 216 /;
#X obj 43 240 r \$0-slices;
#X obj 522 117 r \$0-slices;
#X obj 14 260 mod;
#X obj 332 530 *~;
#X obj 350 506 r \$0-ampl;
#X obj 332 166 random;
#X obj 382 166 r \$0-slices;
#X obj 14 117 spigot;
#X obj 332 117 spigot;
#X obj 382 117 == 0;
#X obj 14 93 r \$0-durbang;
#X obj 332 93 r \$0-durbang;
#X obj 522 510 s \$0-sldur;
#X obj 64 117 r \$0-patmode;
#X obj 418 117 r \$0-patmode;
#X text 617 241 Alter pitch;
#X obj 540 311 * 1000;
#X obj 540 242 r \$0-pitch;
#X msg 548 288 1, f 1;
#X obj 522 360 *;
#X obj 540 335 t b f;
#X obj 540 192 r \$0-srate;
#X msg 32 166 -1, f 2;
#X obj 14 283 array get \$0-dpettern;
#X obj 158 166 f \$0;
#X obj 158 142 sel 0 1, f 8;
#X obj 184 216 f \$0;
#X msg 184 240 symbol \$1-dpettern;
#X msg 158 192 symbol \$1-pettern;
#X obj 548 266 r \$0-samplebang;
#X obj 585 93 s \$0-splitinit;
#X obj 158 117 r \$0-sgldbl;
#X obj 624 192 s \$0-sldursamp;
#X obj 395 355 r \$0-sldursamp;
#X text 168 434 Jump to starting point in samples \, go to end point in samples in "one slice in ms", f 22;
#N canvas 58 159 307 382 petterner 0;
#X obj 69 69 array define \$0-pettern;
#X obj 36 168 array set \$0-pettern;
#X obj 13 15 r \$0-slices;
#X obj 59 221 * 2;
#X obj 13 345 array set \$0-dpettern;
#X obj 59 244 array define \$0-dpettern;
#X obj 13 295 list prepend;
#X listbox 13 320 38 0 0 0 - - - 0;
#X obj 13 38 t f f f;
#N canvas 483 205 359 314 ranpat 0;
#X obj 105 11 inlet;
#X msg 137 136 \$1;
#X obj 137 160 until;
#X obj 237 135 i;
#X obj 237 160 + 1;
#X obj 237 208 sel 0;
#X obj 137 184 random;
#X msg 137 208 append \$1;
#X obj 137 232 list store;
#X listbox 137 256 25 0 0 0 - - - 0;
#X obj 105 37 t b f;
#X obj 105 62 f;
#X msg 99 111 0;
#X obj 105 86 sel 1;
#X obj 237 184 mod;
#X obj 137 111 t f b f f b;
#X obj 21 37 r \$0-rndmz;
#X obj 137 279 outlet;
#X text 150 10 Input amount of slices;
#X text 189 278 Output random pattern;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 12 0;
#X connect 13 1 15 0;
#X connect 14 0 3 1;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X connect 15 1 6 0;
#X connect 15 2 14 1;
#X connect 15 3 6 1;
#X connect 15 4 8 1;
#X connect 16 0 11 0;
#X restore 36 96 pd ranpat;
#X obj 46 120 s \$0-ranpat1;
#X obj 94 270 r \$0-ranpat1;
#N canvas 483 205 359 314 ranpat 0;
#X obj 105 11 inlet;
#X msg 137 136 \$1;
#X obj 137 160 until;
#X obj 237 135 i;
#X obj 237 160 + 1;
#X obj 237 208 sel 0;
#X obj 137 184 random;
#X msg 137 208 append \$1;
#X obj 137 232 list store;
#X listbox 137 256 25 0 0 0 - - - 0;
#X obj 105 37 t b f;
#X obj 105 62 f;
#X msg 99 111 0;
#X obj 105 86 sel 1;
#X obj 237 184 mod;
#X obj 137 111 t f b f f b;
#X obj 21 37 r \$0-rndmz;
#X obj 137 279 outlet;
#X text 150 10 Input amount of slices;
#X text 189 278 Output random pattern;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 12 0;
#X connect 13 1 15 0;
#X connect 14 0 3 1;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X connect 15 1 6 0;
#X connect 15 2 14 1;
#X connect 15 3 6 1;
#X connect 15 4 8 1;
#X connect 16 0 11 0;
#X restore 13 270 pd ranpat;
#X listbox 36 144 29 0 0 0 - - - 0;
#X connect 2 0 8 0;
#X connect 3 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 8 0 12 0;
#X connect 8 1 9 0;
#X connect 8 2 0 0;
#X connect 8 2 3 0;
#X connect 9 0 10 0;
#X connect 9 0 13 0;
#X connect 11 0 6 1;
#X connect 12 0 6 0;
#X connect 13 0 1 0;
#X restore 14 22 pd petterner;
#X text 108 22 Create single/ double length pattern.;
#X text 337 141 Random mode;
#X text 223 141 Pattern mode;
#X obj 32 142 r \$0-petrest;
#N canvas 592 25 366 691 pitcher 0;
#X obj 16 18 array define \$0-pitcher;
#X obj 16 138 array set \$0-pitcher;
#X obj 16 67 array size \$0-pitcher;
#X listbox 16 116 34 0 0 0 - - - 0;
#N canvas 132 82 407 346 pitchpat 0;
#X msg 127 136 \$1;
#X obj 127 160 until;
#X obj 227 135 i;
#X obj 227 160 + 1;
#X obj 227 207 sel 0;
#X msg 127 236 append \$1;
#X obj 127 260 list store;
#X listbox 127 284 37 0 0 0 - - - 0;
#X obj 95 37 t b f;
#X obj 95 62 f;
#X obj 95 86 sel 1;
#X obj 227 184 mod;
#X obj 12 11 r \$0-rndmz;
#X obj 95 11 r \$0-slices;
#X text 180 10 Number of slices;
#X obj 127 111 t f b f b;
#X obj 127 308 outlet;
#X text 179 307 Output random pattern;
#X obj 12 35 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 127 186 random 2;
#X obj 127 210 + 1;
#X msg 95 111 1, f 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 19 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 4 0 1 1;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 16 0;
#X connect 8 0 9 0;
#X connect 8 1 9 1;
#X connect 9 0 10 0;
#X connect 10 0 21 0;
#X connect 10 1 15 0;
#X connect 11 0 2 1;
#X connect 11 0 4 0;
#X connect 12 0 18 0;
#X connect 13 0 8 0;
#X connect 15 0 0 0;
#X connect 15 1 19 0;
#X connect 15 2 11 1;
#X connect 15 3 6 1;
#X connect 18 0 9 0;
#X connect 19 0 20 0;
#X connect 20 0 5 0;
#X connect 21 0 7 0;
#X restore 16 93 pd pitchpat;
#X obj 16 44 r \$0-slices;
#X obj 16 368 array get \$0-pitcher;
#X floatatom 16 393 5 0 0 0 - - - 0;
#X obj 16 210 i;
#X obj 16 234 + 1;
#X obj 16 258 mod;
#X floatatom 16 284 5 0 0 0 - - - 0;
#X obj 46 234 r \$0-slices;
#X msg 79 441 1, f 1;
#X obj 16 466 s \$0-pitchfact;
#X obj 16 417 spigot;
#X obj 79 392 r \$0-pitmode;
#X obj 79 417 == 0;
#X obj 16 186 r \$0-durbang;
#X obj 16 656 s \$0-pitch;
#X floatatom 16 634 5 0 0 0 - - - 0;
#X obj 36 559 t b f;
#X obj 16 587 f;
#X obj 36 535 r \$0-pitchfact;
#X obj 16 511 r \$0-basepitch;
#X obj 16 611 *;
#X text 98 615 Calculate pitch according to adjusted BPM value and factor from randomly generated array., f 27;
#X text 118 417 Switch on/ off pitch vari mode.;
#X obj 106 337 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 16 337 spigot;
#X obj 16 313 t f b;
#X text 174 289 Randomize if pitch change is performed, f 21;
#X obj 116 290 sel 0;
#X msg 116 314 1, f 1;
#X msg 148 314 0, f 1;
#X obj 106 268 random 5;
#X msg 148 338 1, f 1;
#X obj 159 245 r \$0-ppprob;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 15 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 8 1;
#X connect 10 0 11 0;
#X connect 11 0 30 0;
#X connect 12 0 10 1;
#X connect 13 0 14 0;
#X connect 15 0 14 0;
#X connect 16 0 15 1;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 18 0 8 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 21 1 25 1;
#X connect 22 0 25 0;
#X connect 23 0 21 0;
#X connect 24 0 22 0;
#X connect 25 0 20 0;
#X connect 28 0 29 1;
#X connect 29 0 6 0;
#X connect 30 0 29 0;
#X connect 30 1 35 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 28 0;
#X connect 34 0 28 0;
#X connect 34 0 36 0;
#X connect 35 0 28 0;
#X connect 35 0 32 0;
#X connect 36 0 7 0;
#X connect 37 0 35 1;
#X restore 14 46 pd pitcher;
#X obj 522 483 /;
#X obj 530 429 r \$0-pitchfact;
#X text 108 45 Pitch alteration (e.g. create pitch vari pattern).;
#X text 550 484 Recalculate duration for main metro.;
#X obj 530 453 t b f;
#X connect 0 0 15 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 17 0;
#X connect 3 0 50 0;
#X connect 4 0 7 0;
#X connect 4 1 9 0;
#X connect 5 0 48 0;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 2 1;
#X connect 9 0 8 0;
#X connect 10 0 2 2;
#X connect 10 0 59 0;
#X connect 12 0 13 0;
#X connect 13 0 20 0;
#X connect 14 0 4 0;
#X connect 15 0 21 0;
#X connect 16 0 5 0;
#X connect 17 0 37 0;
#X connect 18 0 20 1;
#X connect 19 0 6 0;
#X connect 20 0 12 1;
#X connect 20 0 41 0;
#X connect 21 0 11 0;
#X connect 22 0 21 1;
#X connect 23 0 14 0;
#X connect 24 0 23 1;
#X connect 25 0 12 0;
#X connect 26 0 23 0;
#X connect 27 0 26 1;
#X connect 28 0 25 0;
#X connect 29 0 26 0;
#X connect 31 0 25 1;
#X connect 32 0 27 0;
#X connect 34 0 38 0;
#X connect 35 0 34 0;
#X connect 36 0 34 0;
#X connect 37 0 10 0;
#X connect 38 0 37 0;
#X connect 38 1 37 1;
#X connect 39 0 17 1;
#X connect 40 0 12 1;
#X connect 41 0 14 0;
#X connect 42 0 46 0;
#X connect 43 0 42 0;
#X connect 43 1 44 0;
#X connect 44 0 45 0;
#X connect 45 0 41 2;
#X connect 46 0 41 2;
#X connect 47 0 36 0;
#X connect 49 0 43 0;
#X connect 51 0 8 1;
#X connect 51 0 7 1;
#X connect 57 0 40 0;
#X connect 59 0 30 0;
#X connect 60 0 63 0;
#X connect 63 0 59 0;
#X connect 63 1 59 1;
#X restore 26 132 pd sampleplayer;
#X text 70 19 Restart;
#X text 541 19 Global BPM;
#X text 282 19 Rndmz;
#X text 168 19 Filepath;
#X obj 625 20 inlet;
#X obj 625 137 s \$0-patmodeinit;
#X listbox 625 44 13 0 0 0 - - - 0;
#X obj 625 91 s \$0-splitinit;
#X obj 625 114 s \$0-sgldblinit;
#X obj 349 360 s \$0-durbang;
#X obj 383 244 tgl 15 0 \$0-pitmode \$0-pitmodeinit PitM 0 -7 0 10 #00faff #000000 #000000 0 1;
#N canvas 359 256 377 163 bcalcpitch 0;
#X floatatom 18 92 5 0 0 0 - - - 0;
#X obj 104 44 + 1;
#X obj 190 21 r \$0-slength;
#X obj 190 44 /;
#X obj 280 21 r \$0-srate;
#X obj 18 68 expr ((60*$f2*4)/$f1)/$f3;
#X obj 104 21 r \$0-bars;
#X obj 18 21 r \$0-adjbpm;
#X obj 18 115 s \$0-basepitch;
#X text 129 114 Calculate base pitch according to adjusted BPM value., f 31;
#X connect 0 0 8 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 5 2;
#X connect 4 0 3 1;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 5 0;
#X restore 472 186 pd bcalcpitch;
#X obj 349 290 r \$0-glotriggerout;
#X obj 238 43 s \$0-rndmz;
#X obj 625 183 s \$0-pitmodeinit;
#X text 669 19 Preset inlet, f 13;
#X obj 625 160 s \$0-barsinit;
#X obj 625 67 unpack f f f f f, f 19;
#X obj 413 244 hsl 30 15 10 1 0 0 \$0-ppprob \$0-ppprobinit PitP -3 -7 0 10 #fcfcfc #000000 #000000 0 1;
#X text 787 19 Splicer is a breakbeat slicer and sampler engine. Samples can be loaded using the file button or by sending the file path as message through the second inlet. The original tempo of the sample is calculated based on the assumption that it's a 4/4 meter (and either 1 \, 2 or 4 bars in length. Via the fourth inlet (or the Adj BPM number box) \, the BPM can be adjusted to the global tempo of the main patch. The file can be split 0-4 times resulting in 1-16 equal slices that can be played in either a totally random order (Pattern mode trigger off) or as a randomly generated but fixed pattern when Pattern mode trigger is on. The Pitch mode option generates a random pattern of pitch factors (normal \, half time) for the selected amount of slices. With the PitP slider \, the probability of pitch factor selection from that pattern is being determined. S/D switches between a pattern length 1x/ 2x the amount of slices generated. A bang sent to the third inlet generates another random pattern (both slice order and pitch). Fifth inlet allows setting parameters from outside the patch. Last updated 9.8.2023, f 46;
#X msg 26 241 \; \$1-splitinit 4 \; \$1-patmodeinit 1 \; \$1-pitmodeinit 0 \; \$1-sgldblinit 1 \; \$1-amplinit 0.8 \; \$1-barsinit 1 \; \$1-ppprobinit 0 \; \$1-adjbpminit 170, f 18;
#X connect 1 0 28 0;
#X connect 6 0 44 0;
#X connect 11 0 6 1;
#X connect 13 0 25 0;
#X connect 14 0 33 1;
#X connect 17 0 27 0;
#X connect 19 0 48 0;
#X connect 21 0 33 0;
#X connect 22 0 55 0;
#X connect 23 0 22 0;
#X connect 29 0 1 0;
#X connect 30 0 32 0;
#X connect 34 0 31 0;
#X connect 39 0 41 0;
#X connect 41 0 52 0;
#X connect 47 0 6 0;
#X connect 52 0 42 0;
#X connect 52 1 43 0;
#X connect 52 2 40 0;
#X connect 52 3 51 0;
#X connect 52 4 49 0;
#X coords 0 -1 1 1 255 170 2 200 100;
