#N canvas 222 158 1091 381 12;
#X floatatom 294 244 3 0 0 2 Slcs \$0-slicesinit \$0-slices 10;
#X obj 209 303 expr pow (2 \, $f1);
#X obj 209 108 bng 15 250 50 0 \$0-loadfile empty Load\ file 17 7 0 10 #00ff04 #000000 #000000;
#N canvas 830 139 450 278 (subpatch) 0;
#X array \$0-waver 121656 float 2;
#X coords 0 1 121656 -1 145 80 2 0 0;
#X restore 209 145 graph;
#X obj 404 244 bng 15 250 50 0 \$0-rndmz \$0-rndmzinit Rndmz 0 -6 0 10 #ff8300 #000000 #000000;
#X obj 357 147 vsl 15 75 0 1 0 0 \$0-ampl \$0-amplinit Vol. 0 -9 0 10 #feffc6 #000000 #000000 0 1;
#X obj 374 244 tgl 15 0 \$0-patmode \$0-patmodeinit Mode 0 -6 0 10 #9c00ff #ffffff #000000 0 1;
#X floatatom 382 145 4 0 0 3 Origin\ BPM \$0-orgbpminit \$0-orgbpm 10;
#X obj 382 108 hradio 15 1 0 3 \$0-bars \$0-barsinit Bars 47 7 0 10 #fcfcfc #000000 #000000 0;
#X obj 209 244 hradio 15 1 0 5 \$0-split \$0-splitinit Splits 0 -6 0 10 #fcfcfc #000000 #000000 0;
#X obj 440 255 tgl 15 0 \$0-glotriggerforward \$0-glotrigger empty 17 7 0 10 #00ff04 #000000 #000000 0 1;
#X obj 345 20 inlet;
#X obj 128 20 inlet;
#X symbolatom 284 108 15 0 0 0 - \$0-filename - 10;
#X floatatom 382 181 4 0 0 3 Adjust\ BPM \$0-adjbpminit \$0-adjbpm 10;
#X obj 498 20 inlet;
#X obj 324 244 hradio 15 1 0 2 \$0-sgldbl \$0-sgldblinit Sgl/Dbl 0 -7 0 10 #fcfcfc #000000 #000000 0;
#X obj 238 20 inlet;
#N canvas 914 322 546 239 calcoriginbpm 0;
#X obj 105 22 r \$0-slength;
#X obj 165 46 /;
#X text 284 19 Calculate loop origin BPM (only works with tightly edited drum loops in 4/4 scheme). Uses total loop length \, no. of bars (1 or 2) as input., f 32;
#X obj 196 22 r \$0-srate;
#X obj 35 100 expr (60*$f1*4)/$f2;
#X obj 35 22 r \$0-bars;
#X obj 35 124 s \$0-orgbpminit;
#X obj 35 45 sel 0 1 2;
#X msg 35 69 1, f 1;
#X msg 55 69 2, f 1;
#X msg 75 69 4, f 1;
#X obj 35 153 r \$0-orgbpm;
#X obj 35 199 s \$0-adjbpminit;
#X obj 35 176 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X connect 0 0 1 0;
#X connect 1 0 4 1;
#X connect 3 0 1 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 7 2 10 0;
#X connect 8 0 4 0;
#X connect 9 0 4 0;
#X connect 10 0 4 0;
#X connect 11 0 13 0;
#X connect 13 0 12 0;
#X restore 469 144 pd calcoriginbpm;
#N canvas 460 364 380 206 calcpitch 0;
#X obj 18 142 s \$0-pitch;
#X floatatom 18 122 5 0 0 0 - - - 0;
#X obj 190 21 r \$0-slength;
#X obj 190 44 /;
#X obj 280 21 r \$0-srate;
#X obj 18 98 expr ((60*$f2*4)/$f1)/$f3;
#X obj 104 21 r \$0-bars;
#X obj 18 21 r \$0-adjbpm;
#X text 109 126 Calculate pitch according to adjusted BPM value., f 30;
#X obj 104 45 sel 0 1 2;
#X msg 104 69 1, f 1;
#X msg 124 69 2, f 1;
#X msg 144 69 4, f 1;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 5 2;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 2 12 0;
#X connect 10 0 5 1;
#X connect 11 0 5 1;
#X connect 12 0 5 1;
#X restore 469 166 pd calcpitch;
#X obj 26 78 r \$0-loadfile;
#X obj 26 218 f \$0;
#X obj 26 195 loadbang;
#X text 91 194 Local preset, f 6;
#X obj 238 43 s \$0-rndmzinit;
#X obj 345 43 s \$0-glotrigger;
#X text 387 19 Global trigger;
#X obj 498 43 s \$0-adjbpminit;
#X obj 209 326 s \$0-slicesinit;
#X obj 209 280 r \$0-split;
#X obj 27 20 inlet;
#X obj 26 156 outlet~;
#X obj 27 44 s \$0-petrest;
#N canvas 998 236 337 404 sampleloader 0;
#X obj 18 39 openpanel;
#X obj 18 221 soundfiler;
#X floatatom 18 246 8 0 0 0 - - - 0;
#X listbox 216 240 15 0 0 0 - - - 0;
#X obj 216 263 unpack f;
#X obj 18 115 pack s f, f 11;
#X msg 18 196 read -resize \$1 \$2-waver;
#X obj 64 366 s \$0-slength;
#X obj 92 66 loadbang;
#X obj 92 90 f \$0;
#X obj 185 14 inlet;
#X obj 33 140 unpack s;
#X obj 216 370 s \$0-srate;
#X obj 18 14 inlet;
#X text 60 13 Open file panel;
#X obj 33 164 s \$0-filename;
#X obj 18 321 s \$0-adjbpminit;
#X obj 41 299 s \$0-barsinit;
#X text 226 13 Ext. filepath;
#X obj 41 343 s \$0-samplebang;
#X obj 18 270 t b b f;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 20 0;
#X connect 3 0 4 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 5 0 11 0;
#X connect 6 0 1 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 10 0 5 0;
#X connect 11 0 15 0;
#X connect 13 0 0 0;
#X connect 20 0 16 0;
#X connect 20 1 17 0;
#X connect 20 1 19 0;
#X connect 20 2 7 0;
#X restore 26 102 pd sampleloader;
#N canvas 723 185 789 557 sampleplayer 0;
#X obj 332 419 vline~;
#X msg 332 395 \$1 \, \$2 \$3;
#X obj 332 371 pack f f f;
#X floatatom 522 146 10 0 0 1 slice\ duration\ (samples) - - 0;
#X obj 332 290 t f f;
#X obj 585 48 t b f;
#X obj 522 122 expr $f2 / $f1;
#X obj 332 348 *;
#X obj 365 348 *;
#X obj 365 315 + 1;
#X floatatom 522 348 10 0 0 1 slice\ duration\ in\ ms - - 0;
#X obj 332 518 outlet~;
#X obj 14 172 i;
#X obj 14 196 + 1;
#X floatatom 332 262 5 0 0 0 - - - 0;
#X obj 332 443 tabread4~ \$0-waver;
#X obj 585 22 r \$0-slength;
#X obj 522 196 /;
#X obj 43 220 r \$0-slices;
#X obj 522 97 r \$0-slices;
#X obj 14 220 mod;
#X obj 332 490 *~;
#X obj 350 466 r \$0-ampl;
#X obj 332 146 random;
#X obj 382 146 r \$0-slices;
#X obj 14 97 spigot;
#X obj 332 97 spigot;
#X obj 382 97 == 0;
#X obj 14 73 r \$0-durbang;
#X obj 332 73 r \$0-durbang;
#X obj 522 371 s \$0-sldur;
#X obj 64 97 r \$0-patmode;
#X obj 418 97 r \$0-patmode;
#X text 617 219 Alter pitch;
#X obj 540 266 * 1000;
#X obj 540 220 r \$0-pitch;
#X msg 548 243 1, f 1;
#X obj 522 315 *;
#X obj 540 290 t b f;
#X obj 540 172 r \$0-srate;
#X msg 32 146 -1, f 2;
#X obj 14 243 array get \$0-dpettern;
#X obj 158 146 f \$0;
#X obj 158 122 sel 0 1, f 8;
#X obj 184 196 f \$0;
#X msg 184 220 symbol \$1-dpettern;
#X msg 158 172 symbol \$1-pettern;
#X obj 567 243 r \$0-samplebang;
#X obj 585 73 s \$0-splitinit;
#X obj 158 97 r \$0-sgldbl;
#X obj 624 172 s \$0-sldursamp;
#X obj 395 315 r \$0-sldursamp;
#X text 168 394 Jump to starting point in samples \, go to end point in samples in "one slice in ms", f 22;
#N canvas 222 298 307 382 petterner 0;
#X obj 69 69 array define \$0-pettern;
#X obj 36 168 array set \$0-pettern;
#X obj 13 15 r \$0-slices;
#X obj 59 221 * 2;
#X obj 13 345 array set \$0-dpettern;
#X obj 59 244 array define \$0-dpettern;
#X obj 13 295 list prepend;
#X listbox 13 320 38 0 0 0 - - - 0;
#X obj 13 38 t f f f;
#N canvas 483 205 359 314 ranpat 0;
#X obj 105 11 inlet;
#X msg 137 136 \$1;
#X obj 137 160 until;
#X obj 237 135 i;
#X obj 237 160 + 1;
#X obj 237 208 sel 0;
#X obj 137 184 random;
#X msg 137 208 append \$1;
#X obj 137 232 list store;
#X listbox 137 256 25 0 0 0 - - - 0;
#X obj 105 37 t b f;
#X obj 105 62 f;
#X msg 99 111 0;
#X obj 105 86 sel 1;
#X obj 237 184 mod;
#X obj 137 111 t f b f f b;
#X obj 21 37 r \$0-rndmz;
#X obj 137 279 outlet;
#X text 150 10 Input amount of slices;
#X text 189 278 Output random pattern;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 12 0;
#X connect 13 1 15 0;
#X connect 14 0 3 1;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X connect 15 1 6 0;
#X connect 15 2 14 1;
#X connect 15 3 6 1;
#X connect 15 4 8 1;
#X connect 16 0 11 0;
#X restore 36 96 pd ranpat;
#X obj 46 120 s \$0-ranpat1;
#X obj 94 270 r \$0-ranpat1;
#N canvas 483 205 359 314 ranpat 0;
#X obj 105 11 inlet;
#X msg 137 136 \$1;
#X obj 137 160 until;
#X obj 237 135 i;
#X obj 237 160 + 1;
#X obj 237 208 sel 0;
#X obj 137 184 random;
#X msg 137 208 append \$1;
#X obj 137 232 list store;
#X listbox 137 256 25 0 0 0 - - - 0;
#X obj 105 37 t b f;
#X obj 105 62 f;
#X msg 99 111 0;
#X obj 105 86 sel 1;
#X obj 237 184 mod;
#X obj 137 111 t f b f f b;
#X obj 21 37 r \$0-rndmz;
#X obj 137 279 outlet;
#X text 150 10 Input amount of slices;
#X text 189 278 Output random pattern;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 14 0;
#X connect 5 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 11 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 12 0;
#X connect 13 1 15 0;
#X connect 14 0 3 1;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X connect 15 1 6 0;
#X connect 15 2 14 1;
#X connect 15 3 6 1;
#X connect 15 4 8 1;
#X connect 16 0 11 0;
#X restore 13 270 pd ranpat;
#X listbox 36 144 29 0 0 0 - - - 0;
#X connect 2 0 8 0;
#X connect 3 0 5 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 8 0 12 0;
#X connect 8 1 9 0;
#X connect 8 2 0 0;
#X connect 8 2 3 0;
#X connect 9 0 10 0;
#X connect 9 0 13 0;
#X connect 11 0 6 1;
#X connect 12 0 6 0;
#X connect 13 0 1 0;
#X restore 14 22 pd petterner;
#X text 108 22 Create single/ double length pattern.;
#X text 337 121 Random mode;
#X text 223 121 Pattern mode;
#X obj 32 122 r \$0-petrest;
#X connect 0 0 15 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 17 0;
#X connect 3 0 50 0;
#X connect 4 0 7 0;
#X connect 4 1 9 0;
#X connect 5 0 48 0;
#X connect 5 1 6 1;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X connect 8 0 2 1;
#X connect 9 0 8 0;
#X connect 10 0 2 2;
#X connect 10 0 30 0;
#X connect 12 0 13 0;
#X connect 13 0 20 0;
#X connect 14 0 4 0;
#X connect 15 0 21 0;
#X connect 16 0 5 0;
#X connect 17 0 37 0;
#X connect 18 0 20 1;
#X connect 19 0 6 0;
#X connect 20 0 12 1;
#X connect 20 0 41 0;
#X connect 21 0 11 0;
#X connect 22 0 21 1;
#X connect 23 0 14 0;
#X connect 24 0 23 1;
#X connect 25 0 12 0;
#X connect 26 0 23 0;
#X connect 27 0 26 1;
#X connect 28 0 25 0;
#X connect 29 0 26 0;
#X connect 31 0 25 1;
#X connect 32 0 27 0;
#X connect 34 0 38 0;
#X connect 35 0 34 0;
#X connect 36 0 34 0;
#X connect 37 0 10 0;
#X connect 38 0 37 0;
#X connect 38 1 37 1;
#X connect 39 0 17 1;
#X connect 40 0 12 1;
#X connect 41 0 14 0;
#X connect 42 0 46 0;
#X connect 43 0 42 0;
#X connect 43 1 44 0;
#X connect 44 0 45 0;
#X connect 45 0 41 2;
#X connect 46 0 41 2;
#X connect 47 0 36 0;
#X connect 49 0 43 0;
#X connect 51 0 8 1;
#X connect 51 0 7 1;
#X connect 57 0 40 0;
#X restore 26 132 pd sampleplayer;
#X text 70 19 Restart;
#X text 541 19 Global BPM;
#X text 282 19 Rndmz;
#X text 168 19 Filepath;
#X obj 625 20 inlet;
#X obj 851 91 s \$0-patmodeinit;
#X listbox 625 43 8 0 0 0 - - - 0;
#X obj 625 91 s \$0-splitinit;
#X obj 738 91 s \$0-sgldblinit;
#X text 668 19 Preset inlet (Splits \, Single/ Double pattern \, Mode);
#X obj 625 67 unpack f f f f, f 49;
#X obj 971 91 s \$0-barsinit;
#X msg 26 241 \; \$1-splitinit 4 \; \$1-patmodeinit 1 \; \$1-sgldblinit 1 \; \$1-amplinit 0.8 \; \$1-barsinit 1 \; \$1-adjbpminit 170, f 18;
#N canvas 497 420 202 134 metro 0;
#X obj 19 70 metro;
#X obj 19 93 s \$0-durbang;
#X obj 51 45 r \$0-sldur;
#X text 64 69 Master metro;
#X obj 19 20 r \$0-glotriggerforward;
#X connect 0 0 1 0;
#X connect 2 0 0 1;
#X connect 4 0 0 0;
#X restore 469 188 pd metro;
#X text 622 130 Slicer is a sampler engine primarily useful for breakbeats. Samples can be loaded using the load file button or by sending the file path as message through the second inlet. The original tempo of the sample is calculated based on the assumption that it's a 4/4 meter (and either 1 \, 2 or 4 bars in length \, selectable via the radio button in the top right). Via the fourth inlet (or the Adjust BPM number box) \, the BPM can be adjusted to the global tempo of the main patch. The file can be split 0-4 times resulting in 1-16 equal slices that can be played in either a totally random order (Mode trigger off) or as a randomly generated but fixed pattern when Mode trigger is on. Sgl/Dbl switches between a pattern length 1x/ 2x the amount of slices generated. The Rndmz button (or a bang sent to the third inlet) generates another random pattern. Fifth inlet allows setting other parameters from outside the patch. Last updated 22.01.24, f 63;
#X connect 1 0 28 0;
#X connect 11 0 25 0;
#X connect 12 0 33 1;
#X connect 15 0 27 0;
#X connect 17 0 24 0;
#X connect 20 0 33 0;
#X connect 21 0 47 0;
#X connect 22 0 21 0;
#X connect 29 0 1 0;
#X connect 30 0 32 0;
#X connect 34 0 31 0;
#X connect 39 0 41 0;
#X connect 41 0 45 0;
#X connect 45 0 42 0;
#X connect 45 1 43 0;
#X connect 45 2 40 0;
#X connect 45 3 46 0;
#X coords 0 -1 1 1 255 170 2 200 100;
